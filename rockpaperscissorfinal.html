<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ROCKPAPERSCISSOR</title>

  <style>
    body{
      background-color: black;
      color: white;
      
      font-family: Arial, Helvetica, sans-serif;
    }

    button{
      cursor: pointer;
    }
    h3{
      font-size: 30px;
      font-weight:bold;
    }

   .game-button img{
   
    background-color: transparent;
     border: none;
     width:100px;
    
   }
.js-moves{
  display: flex;
  flex-direction: row;
  justify-content: flex-start;
 align-items: center;

}

.reset{
  cursor: pointer;
  border: none;
  padding:10px;
  font-size:15px; 
  
}
  
   
  </style>
</head>
<body>
  <h3>Rock Paper Scissor</h3>

  <button class="game-button" onclick="game('rock')">

    <img src="./images/rock.png" alt="">
  </button>
  <button  class="game-button" onclick="game('paper')">
    <img src="./images/paper.png" alt="">
    </button>
  <button  class="game-button" onclick="game('scissor')">
<img src="./images/scissor.png" alt="">

  </button>

  <p class="js-result"></p>
  <p class="js-moves game-button">
   

  </p>

  <p class="js-score"></p>
  <button class="reset" >Reset Score</button>

</body>

  <script>

    document.getElementsByClassName("reset")[0].addEventListener('click',function(){
      count.wonCount=0;
  count.lossCount=0;
  count.drawCount=0;
  localStorage.removeItem('score');
  document.querySelector(".js-score").innerHTML=` Wins: ${count.wonCount} loss : ${count.lossCount} Draw : ${count.drawCount}`;
 document.getElementsByClassName("js-moves")[0].innerHTML="";
 document.getElementsByClassName("js-result")[0].innerHTML="";
  
    })




// we are having wincount losscount and drawcount in the form of object..
//before local storage it was fixed to 0
// using localstorage the value would be automatically gets incremented
//The score varaiable would be containing the object in the form of string and heere we are converting into objects 

// we are having wincount losscount and drawcount in the form of object..
//before local storage it was fixed to 0
// using localstorage the value would be automatically gets incremented
//The score varaiable would be containing the object in the form of string and heere we are converting into objects 
     // let count={
      // wonCount:0,
      // lossCount:0,
      // drawCount:0
     //} 
 
      let count=JSON.parse(localStorage.getItem('score'));

     console.log(JSON.parse(localStorage.getItem('score')));     

   
 
// console.log(JSON.parse(localStorage.getItem('score')));
    


    function computerChoice(){
    let randomNumber=Math.random();
    let randomNumber2=(randomNumber*3)+1;
    let randomNumber3=Math.floor(randomNumber2);

    
    if(randomNumber3==1){
      return 'rock'; 
  
 
    }
    else if(randomNumber3==2){
    return 'paper';
    }
    else{
    return 'Scissor';
    }
}
let result="";
function game(choice){
 
  let cChoice=computerChoice();
  if(choice=='rock'){
    if(cChoice=='rock'){
      result='draw';
    }
    else if(cChoice=='paper'){
      result='loss';
    }
    else{
      result='win';
    }
}
  
  if(choice=='paper'){
    if(cChoice=='rock'){
      result='win';
    }
    else if(cChoice=='paper'){
      result='draw';
    }
    else{
      result='loss';
    }
   
  }

  if(choice=='scissor'){
    if(cChoice=='rock'){
      result='loss';
    }
    else if(cChoice=='paper'){
      result='win';
    }
    else{
      result='draw';
    }
   
  }

  if(result=='win'){
    count.wonCount+=1;

  }
  else if(result=='loss'){
    count.lossCount+=1;
  }
  else if(result=='draw'){
    count.drawCount+=1;
  }

 

  localStorage.setItem('score',JSON.stringify(count));
  document.querySelector(".js-score") .innerHTML=` Wins: ${count.wonCount} loss : ${count.lossCount} Draw : ${count.drawCount}`;

  document.querySelector(".js-result").innerHTML=`Result : ${result}`;
  document.querySelector(".js-moves")
   .innerHTML=`You <img  class="game-button1" src="./images/${choice}.png" alt="">
   Computer <img  class="game-button1" src="./images/${cChoice}.png" alt="">`
   


  alert(`Your Choice is ${choice} and computer move is ${cChoice}and the result is ${result}
  Wins: ${count.wonCount} loss : ${count.lossCount} Draw : ${count.drawCount}
  `);

 

}







    
  </script>

</html>